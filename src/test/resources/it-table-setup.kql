.create-merge table TBL (vnum:int, vdec:decimal, vdate:datetime, vb:boolean, vreal:real, vstr:string, vlong:long,vtype:string)
.alter table TBL policy streamingingestion enable
.alter table TBL policy ingestionbatching @'{"MaximumBatchingTimeSpan":"00:00:10", "MaximumNumberOfItems": 10, "MaximumRawDataSizeMB": 100}'
.create-or-alter table TBL ingestion avro mapping "avro_mapping" '[{"Column":"vnum","Properties":{"Field":"vnum"}},{"Column":"vreal","Properties":{"Field":"vreal"}},{"Column":"vdec","Properties":{"Field":"vdec"}},{"Column":"vdate","Properties":{"Field":"vdate"}},{"Column":"vstr","Properties":{"Field":"vstr"}},{"Column":"vb","Properties":{"Field":"vb"}},{"Column":"vlong","datatype":"long","Properties":{"Field":"vlong"}},{"Column":"vtype","Properties":{"ConstValue":"avro"}}]'
.create-or-alter table TBL ingestion json mapping "data_mapping" '[{"column":"vreal", "Properties":{"Path":"$[\'vreal\']"}},{"column":"vlong", "Properties":{"Path":"$[\'vlong\']"}},{"column":"vtype", "Properties":{"Path":"$[\'vtype\']"}},{"column":"vnum", "Properties":{"Path":"$[\'vnum\']"}},{"column":"vdate", "Properties":{"Path":"$[\'vdate\']"}},{"column":"vdec", "Properties":{"Path":"$[\'vdec\']"}},{"column":"vstr", "Properties":{"Path":"$[\'vstr\']"}},{"column":"vb", "Properties":{"Path":"$[\'vb\']"}}]'
.create-or-alter table TBL ingestion csv mapping "csv_mapping" '[{"column":"vnum","datatype":"int","Properties":{"Ordinal":"4"}},{"column":"vdate","datatype":"datetime","Properties":{"Ordinal":"1"}},{"Column":"vdec","datatype":"decimal","Properties":{"Ordinal":"2"}},{"column":"vb","datatype":"boolean","Properties":{"Ordinal":"0"}},{"column":"vreal","datatype":"real","Properties":{"Ordinal":"5"}},{"column":"vstr","datatype":"string","Properties":{"Ordinal":"6"}},{"column":"vlong","datatype":"long","Properties":{"Ordinal":"3"}},{"column":"vtype","datatype":"string","Properties":{"ConstValue":"csv"}}]'